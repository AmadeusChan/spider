20110225225624078640277
2002年04月23日 08:21:06　　清华新闻网

   
无标题文档
收获在早春三月
 ——记我校计算机系团队荣获2002 PennySort世界排序比赛冠军
 农历早春三月，正是春种望秋收的季节，而一个来自清华大学计算机系的团队已经用他们的非凡实力与团结精神品尝到了胜利的果实。4月7日，好消息从美国传来，在2002年度PennySort世界排序比赛中，这个团队以超出原有世界纪录一倍多的优秀成绩，获得了PennySort   世界冠军（Daytona类别，共两类）的奖杯和金牌。
 荣誉的获得者是一支年轻的队伍。今年1月，计算机系博士生刘鹏开始组织参赛团队，得到王小鸽副教授的热情支持和指导，后来，6名更为年轻的本科生加入其中，队伍一下子壮大了起来。他们中有些人是第一次参加这样的大赛，有些人曾经就获得过全国奥林匹克信息学竞赛的冠军。他们的目标是一致的：要以绝对优势赢得今年的PennySort比赛，创造新的世界纪录。
 PennySort比赛是由在全球享有盛誉的著名计算机科学家Jim Gray发起并推动的。他是1998年计算机界的最高奖--图灵奖获得者（每年仅有一位），是美国科学院、工程院及艺术与科学院院士，数据库Transaction（事务处理）理论的奠基人。正是由于他的贡献，才使得许多我们习以为常的事情成为可能，例如：从ATM中取钱、预订机票、网上购物，等等。
 由于排序是计算机事务处理中最经常的操作之一，在数据库系统、数据分析和数据挖掘中被大量使用，因而排序能力常常被当作是计算机事务处理能力的标志。于是，在1998年，Jim   Gray提出并建立了PennySort比赛,在每年的4月份角逐出性能价格比最佳的排序算法，以标志当年计算机事务处理技术的发展水平。因此，PennySort公布的结果为许多研究人员所关注。
 为让不同类型的硬件和软件有相同的评比基础，PennySort采用的计算方法是：首先算出排序所选用计算机的成本(单位：Penny-美分)，然后假设此计算机能使用3年（94,608,000秒），将这个秒数除以成本，就得到每美分所能支配的时间数。然后，在这个时间中为尽可能多的数据排序。这个数值就是一个Penny所能完成的工作量，是比赛中最重要的一个指标。
 2001年PennySort世界纪录是以一个Penny的成本排了4.19GB的数据。今年来自清华的参赛团队认为：要想在PennySort比赛中取得好成绩，关键是要使用性能价格比尽可能最优的硬件配置，并且设计出能够充分发挥硬件潜力的算法。这次他们的目标是要超出上届冠军成绩一倍以上：9GB。
 通过阅读大量的性能评测报告，并在各种平台上做性能试验，最后，他们定制了两台性能价格比极优、风格迥异的特殊电脑。一台支持VIA   KT266A芯片组的Abit KR7A-RAID主板，使用Athlon XP 1700 CPU，配上了1G的DDR266内存和两组由4个IBM 40G高速硬盘构成的磁盘阵列，运行RedHat   7.2 Linux 操作系统；另一台使用Intel i850芯片组的Abit TH7II-RAID主板和Pentium 4 1.6G CPU，配备1G的Rambus内存和两组磁盘阵列，运行Windows   NT操作系统。7名队员分为两组，分别在两台机器上昼夜编程和优化。
 在算法方面，他们突破传统编程手法，利用多线程实现了异步的并行I/O，也就是说，在一组磁盘阵列读入数据的同时，CPU正在为内存中的数据排序，而另一组磁盘阵列正在输出排好序的数据。这样，分别控制不同的硬件部件，以实现程序的最大并行化。 
 在参加比赛期间，队员们阅读了大量的书籍与论文，从不熟悉到熟悉再到精通。尤其是刘鹏和施遥，以忘我投入精神和高水平的编程技术，为团队的成功做出了突出的贡献。这是一个精诚合作的团队，既分工又协作，在每周的例会上，他们交流各组的进展以及所遇到的困难，共同讨论解决。看着日渐成形的程序，队员们都有着要尽快地将它调试通过的冲动--他们夜以继日地调试程序、优化算法。但是，困难却层出不穷：为使CPU、内存及两组磁盘阵列能够以更优的方式工作，算法中涉及了大量的多线程、多I/O协调问题，使得这个软件的难度非同一般，花去了队员们大量的心血。
 功夫不负有心人。最终，第一个小组取得了极其优异的成绩：在1104秒（他们所用硬件的每个Penny所折合的时间）内排了10,500,000,000字节，即9.8GB，超出去年世界纪录一倍还多，相当于把全中国13亿人的所有名字排了一遍！而这是在一台成本仅为857美元的电脑上完成的！这个排序软件，不仅大大超出了以事务处理能力见长的数据库管理系统的排序能力，在同一台机器上的排序速度甚至比著名的NTSort快了近一倍！
 有着清华情结的队员们，把他们的排序软件命名为THSort。3月31日，在比赛截止期限到来前的最后一个小时，他们才极不情愿地放下不断优化过的排序软件，向美国网站规定的地址提交了结果。之后，又按捺不住心中的激动，没日没夜地守在电脑旁：白天对各种各样额外指标进行测试，夜里回答比赛主办者针对THSort提出的各种问题。过了几天，问题没有了，日子反而更难过了，网络就像陷入了死一样的沉寂。他们夜里都不能安睡，老是爬起来检查邮箱和比赛的主页，因为这正是对方白天工作的时段。等呀等，终于，7天之后，结果出来了，他们赢了！
 排序不仅是数据库的核心技术，它本身也有着广泛的应用场合。如能让以往的排序算法有所突破，其意义远非获得一个冠军可比。所以，虽然比赛结束了，Jim   Gray 仍然引领着他们继续探索并行I/O技术的神秘殿堂。
 值得骄傲的是：他们第一次参加这项比赛，就获得了优异的成绩，为祖国争得了荣誉。让我们为他们的成功表示祝贺！对于清华大学计算机系的团队来说，这确实是一个收获的早春三月。   （刘鹏 王皓） 

    

 
            
2002年04月23日 08:21:06　　清华新闻网

          

   
